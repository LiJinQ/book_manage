<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ambow.dao.MenuDao">

	<select id="getAllMenu" resultType="Menu">
		select * from menu
	</select>
	
	<select id="getMenuById" resultType="Menu">
		select * from menu where menu_id = #{id}
	</select>
	
	<insert id="newMenu" parameterType="Menu">
		insert into menu (menu_id, menu_no, menu_parent_no, menu_name, menu_url, menu_level, state) 
		values
	    (#{menuId}, #{menuNo}, #{menuParentNo}, #{menuName}, #{menuUrl}, #{menuLevel},#{state});
	</insert>
		
	<delete id="deleteMenu">
		delete from menu where menu_id = #{id}
	</delete>
	
	<update id="updateMenu">
		update menu 
		<set>
			<if test="menuNo!=null">menu_no=#{menuNo},</if>
			<if test="menuParentNo!=null">menu_parent_no=#{menuParentNo},</if>
			<if test="menuName!=null">menu_name=#{menuName},</if>
			<if test="menuUrl!=null">menu_url=#{menuUrl},</if>
			<if test="menuLevel!=null">menu_level=#{menuLevel},</if>
			<if test="state!=null">state=#{state}</if>
		</set>
		where menu_id = #{menuId}
	</update>
</mapper>